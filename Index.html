<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Employee Notification</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>Send Employee Notification</h1>
    <form id="notify-form">
      <label for="sender">Sender Number:</label>
      <input type="tel" id="sender" name="sender" required placeholder="+20122XXXXXX" />

      <label for="employee">Select Employee:</label>
      <select id="employee" name="employee" required>
        <option value="" disabled selected>Select a name</option>
            <option data-phone="+201068477527">Islam Samir</option>
            <option data-phone="+201069068223">Abdelrahman Mohsen</option>
            <option data-phone="+201211239882">Menna Mohamed</option>
            <option data-phone="+201093911205">Assem Amr</option>
            <option data-phone="+201270943195">Ahmed Mohamed</option>
            <option data-phone="+201068120116">Basant Abdelhamid</option>
            <option data-phone="+201099605354">Mohamed Mostafa</option>
            <option data-phone="+201100365482">Ahmed Abdelaleem</option>
            <option data-phone="+201283202644">Jana Farag</option>
            <option data-phone="+201102379100">Moamen Aly</option>
            
      </select>

      <label for="method">Send Method:</label>
      <select id="method" name="method" required>
        <option value="whatsapp">WhatsApp</option>
        <option value="sms">SMS</option>
      </select>

      <label for="alert">Alert Message:</label>
      <textarea id="alert" name="alert" required placeholder="Type the alert..."></textarea>

      <label for="note">Additional Note:</label>
      <textarea id="note" name="note" placeholder="Optional note..."></textarea>

      <button type="submit">Send & Save PDF</button>
    </form>

    <div class="social-icons">
        <a href="https://www.linkedin.com/company/students-union-long-live-eg/" target="_blank">
            <i class="fab fa-linkedin"></i>
          </a>
          <a href="https://x.com/sulongliveeg?t=WWyKV4ojxdmESW1ILhnzuQ&s=08" target="_blank">
            <i class="fab fa-twitter"></i>
          </a>
          <a href="https://www.facebook.com/share/193aMGHoeG/" target="_blank">
            <i class="fab fa-facebook"></i>
          </a>
          <a href="https://www.facebook.com/groups/718216758598550/?ref=share&mibextid=NSMWBT" target="_blank">
            <i class="fas fa-users"></i> <!-- أيقونة مخصصة للجروب -->
          </a>
          <a href="https://www.instagram.com/sulongliveeg?igsh=aHU0djJkOWNseDRq" target="_blank">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="https://www.tiktok.com/@tahyamisrstudentunion?_t=ZS-8wsSYGE3lfW&_r=1" target="_blank">
            <i class="fab fa-tiktok"></i>
          </a>
          
    </div>
  </div>

  <script>
    const { jsPDF } = window.jspdf;

    document.getElementById("notify-form").onsubmit = (e) => {
      e.preventDefault();

      const employeeSelect = document.getElementById("employee");
      const selectedOption = employeeSelect.options[employeeSelect.selectedIndex];
      const name = selectedOption.text;
      const phone = selectedOption.getAttribute("data-phone");
      const method = document.getElementById("method").value;
      const message = document.getElementById("alert").value;
      const note = document.getElementById("note").value;
      const sender = document.getElementById("sender").value;
      const timestamp = new Date().toLocaleString();

      const fullMessage = `${message}\n\nNote: ${note}`;
      const encodedMessage = encodeURIComponent(fullMessage);

      if (method === "whatsapp") {
        window.open(`https://wa.me/${phone.replace('+', '')}?text=${encodedMessage}`, "_blank");
      } else {
        window.open(`sms:${phone}?&body=${encodedMessage}`, "_blank");
      }

      const doc = new jsPDF();
      doc.setFont("helvetica", "normal");
      doc.setFontSize(14);

      doc.text(`Sent Date: ${timestamp}`, 20, 20);
      doc.text(`Employee Name: ${name}`, 20, 30);
      doc.text(`Phone: ${phone}`, 20, 40);
      doc.text(`Sender: ${sender}`, 20, 50);
      doc.text("Alert Message:", 20, 60);
      doc.text(doc.splitTextToSize(message, 180), 20, 70);
      if (note.trim()) {
        doc.text("Additional Note:", 20, 100);
        doc.text(doc.splitTextToSize(note, 180), 20, 110);
      }

      doc.save(`Notification_${name}.pdf`);
    };
  </script>
</body>
</html>
